-- Copyright 2012 Google Inc. All Rights Reserved.
--
-- Licensed under the Apache License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.

Tests for functions

Function with no variables.
    # foo() { echo ok; }
    # foo
    ok

Function accessing global shell variable.
    # x=1
    # foo() { echo $x; }
    # foo
    1

Function accessing parameter variable.
    # foo() { echo $1; }
    # foo 111
    111

Assignment before a function call has persistent value. Note that bash
incorrectly restores the previous value.
    # foo() { echo $y; }                # SKIP bash
    # y=222 foo                         # SKIP bash
    222
    # echo $y                           # SKIP bash
    222

Unset functions. Note that we skip this test for other shells because
the error messages are different.
    # foo() { echo ok; }                # SKIP sh dash bash
    # unset -f foo                      # SKIP sh dash bash
    # foo                               # SKIP sh dash bash
    Unknown command: foo
